(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{345:function(e,t,l){"use strict";l.r(t);var s=l(14),_=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("查看一个sql的查询过程只需要前面加explain即可")]),e._v(" "),t("p",[e._v("例如")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("EXPLAIN SELECT * FROM t_record WHERE create_time >= '2021-01-01';\n")])])]),t("p",[e._v("参数很多，可以慢慢理解：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("id:选择标识符，id从往小执行")])]),e._v(" "),t("li",[t("p",[e._v("select_type:表示查询的类型")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("(1) SIMPLE(简单SELECT，不使用UNION或子查询等)\n(2) PRIMARY(子查询中最外层查询，查询中若包含任何复杂的子部分，最外层的select被标记为PRIMARY)\n(3) UNION(UNION中的第二个或后面的SELECT语句)\n(4) DEPENDENT UNION(UNION中的第二个或后面的SELECT语句，取决于外面的查询)\n(5) UNION RESULT(UNION的结果，union语句中第二个select开始后面所有select)\n(6) SUBQUERY(子查询中的第一个SELECT，结果不依赖于外部查询)\n(7) DEPENDENT SUBQUERY(子查询中的第一个SELECT，依赖于外部查询)\n(8) DERIVED(派生表的SELECT, FROM子句的子查询)\n(9) UNCACHEABLE SUBQUERY(一个子查询的结果不能被缓存，必须重新评估外链接的第一行)\n")])])]),t("ul",[t("li",[t("p",[e._v("table:输出结果集的表")])]),e._v(" "),t("li",[t("p",[e._v("partitions:匹配的分区")])]),e._v(" "),t("li",[t("p",[e._v("type:表示表的连接类型")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ALL、index、range、 ref、eq_ref、const、system、NULL（从左到右，性能从差到好）\n")])])]),t("p",[t("em",[e._v("特别注意ALL，ALL的话全表查询，数据量大的时候效率很低很低。。。")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("possible_keys:表示查询时，可能使用的索引")])]),e._v(" "),t("li",[t("p",[e._v("key:表示实际使用的索引")])]),e._v(" "),t("li",[t("p",[e._v("key_len:索引字段的长度")])])]),e._v(" "),t("p",[t("em",[e._v("key_len是根据表定义计算而得，不损失精确性的情况下，长度越短越好")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("ref:列与索引的比较")])]),e._v(" "),t("li",[t("p",[e._v("rows:扫描出的行数(估算的行数)")])]),e._v(" "),t("li",[t("p",[e._v("filtered:按表条件过滤的行百分比")])]),e._v(" "),t("li",[t("p",[e._v("Extra:执行情况的描述和说明")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);